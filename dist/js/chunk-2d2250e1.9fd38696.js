(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2250e1"],{e385:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dashboard-content"}},[t.$store.state.messageStatusPortfolio?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Berhasil diupdate. "),s("i",{staticClass:"fa fa-check"}),t._m(0)]):t._e(),s("div",{staticClass:"text-right mb-4"},[t._v(t._s(t.$store.state.today))]),t._m(1),s("div",{staticClass:"mt-4"},[s("form",{attrs:{enctype:"multipart/form-data","accept-charset":"utf-8"},on:{submit:function(e){return e.preventDefault(),t.updatePortfolio()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.id,expression:"portfolio.id"}],attrs:{type:"hidden"},domProps:{value:t.portfolio.id},on:{input:function(e){e.target.composing||t.$set(t.portfolio,"id",e.target.value)}}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.title,expression:"portfolio.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title",required:"required"},domProps:{value:t.portfolio.title},on:{input:function(e){e.target.composing||t.$set(t.portfolio,"title",e.target.value)}}}),s("div",{staticClass:"help-block with-errors"})])]),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Tipe")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.type,expression:"portfolio.type"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.portfolio,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Buku"}},[t._v("Buku")]),s("option",{attrs:{value:"Ilustrasi"}},[t._v("Ilustrasi")]),s("option",{attrs:{value:"Foto"}},[t._v("Foto")])]),s("div",{staticClass:"help-block with-errors"})])]),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.description,expression:"portfolio.description"}],staticClass:"form-control",attrs:{placeholder:"Deskripsi",required:"required"},domProps:{value:t.portfolio.description},on:{input:function(e){e.target.composing||t.$set(t.portfolio,"description",e.target.value)}}}),s("div",{staticClass:"help-block with-errors"})])]),s("div",{staticClass:"col-md-6 mb-5"},[s("div",{staticClass:"row d-flex align-items-center"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"mb-3"},[s("a",{attrs:{href:t.portfolio.attachment}},[s("i",{staticClass:"fa fa-file-pdf text-danger",staticStyle:{"font-size":"3rem"}})])])]),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Lampiran (PDF/Zip) Maks 10MB")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.attachment,expression:"portfolio.attachment"}],staticClass:"form-control",attrs:{type:"hidden"},domProps:{value:t.portfolio.attachment},on:{input:function(e){e.target.composing||t.$set(t.portfolio,"attachment",e.target.value)}}}),""!==t.messageError?s("small",{staticClass:"text-danger d-block"},[t._v(t._s(t.messageError))]):t._e(),s("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:t.selectFile}}),s("div",{staticClass:"help-block with-errors"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.messageStatus,expression:"messageStatus"}],staticClass:"mt-2 alert alert-success"},[t._v(" "+t._s(t.message)+" ")]),t.$store.state.loadUploadFile?t._e():s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.uploadingFile()}}},[t._v(" Upload ")]),t.$store.state.loadUploadFile?s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"}},[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" Sedang diproses ")]):t._e()])])]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Year")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.portfolio.year,expression:"portfolio.year"}],staticClass:"form-control",attrs:{name:"year",type:"date",placeholder:"Year","data-error":"Valid email is required.",required:"required",value:""},domProps:{value:t.portfolio.year},on:{input:function(e){e.target.composing||t.$set(t.portfolio,"year",e.target.value)}}}),s("div",{staticClass:"help-block with-errors"})])]),s("p",{staticClass:"form-message"})]),s("div",{staticClass:"text-right"},[t.$store.state.loadPage?s("button",{staticClass:"btn btn-primary"},[s("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" Sedang diproses.. ")]):s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Simpan")])])])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b",[t._v("Sunting Portofolio")])])}],i=s("5530"),r=(s("a4d3"),s("e01a"),s("2f62")),l={data:function(){return{portfolio:{id:"",title:"",type:"Buku",description:"",attachment:"",year:""},file:null,messageStatus:!1,message:"",messageError:""}},name:"Portfolio Detail",methods:Object(i["a"])(Object(i["a"])({},Object(r["b"])(["fetchDetailPortfolio","updateDetailPortfolio","uploadFile"])),{},{selectFile:function(t){var e=t.target.files[0];this.file=e},uploadingFile:function(){var t=this;null===this.file?this.messageError="File portfolio harus diisi":this.file.size>=1e7?this.messageError="Ukuran file terlalu besar, maksimal 10 mb":(this.messageError="",this.uploadFile(this.file).then((function(e){"success"===e.status?(t.portfolio.attachment=e.file,t.messageStatus=!0,t.message="Berhasil diupload, selanjutnya silahkan klik tombol simpan"):t.messageError=e.message})).catch((function(e){t.messageError="File gagal diupload",t.$store.state.loadUploadFile=!1,console.log(e)})))},setValue:function(t){t=t||this.$store.state.portfolio,this.portfolio.id=t.id,this.portfolio.title=t.title,this.portfolio.type=t.type,this.portfolio.description=t.description,this.portfolio.attachment=t.attachment,this.portfolio.year=t.year},updatePortfolio:function(){var t=this;this.updateDetailPortfolio(this.portfolio).then((function(){t.$router.push("/user/portfolio")}))}}),beforeCreate:function(){var t=localStorage.getItem("user");t||this.$router.push("/login")},created:function(){this.$store.state.portfolio?this.fetchDetailPortfolio(this.$route.params.id).then(this.setValue):this.setValue()}},n=l,c=s("2877"),p=Object(c["a"])(n,a,o,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d2250e1.9fd38696.js.map