(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-500119d0"],{"74e8":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"dashboard-content"}},[e("section",{attrs:{id:"profile-publisher"}},[e("form",{on:{submit:function(t){return t.preventDefault(),a.updateProfile()}}},[a._m(0),e("p",{staticClass:"mb-4"},[a._v("Silahkan isi data-data terkait penerbit")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"penerbit"}},[a._v("Nama Penerbit")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.name,expression:"publisher.name"}],staticClass:"form-control",attrs:{required:"",id:"penerbit",type:"text",placeholder:"Masukan nama penerbit"},domProps:{value:a.publisher.name},on:{input:function(t){t.target.composing||a.$set(a.publisher,"name",t.target.value)}}})])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"provinsi"}},[a._v("Provinsi")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.publisher.province,expression:"publisher.province"}],staticClass:"form-control",attrs:{id:"provinsi",required:""},on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.publisher,"province",t.target.multiple?e:e[0])},function(t){return a.getCity(t)}]}},[e("option",{attrs:{value:"",disabled:""}},[a._v("Pilih ..")]),a._l(a.provinces,(function(t,i){return e("option",{key:i,domProps:{value:t.id}},[a._v(" "+a._s(t.name)+" ")])}))],2)])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"kota"}},[a._v("Kota")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.publisher.city,expression:"publisher.city"}],staticClass:"form-control",attrs:{required:"",id:"kota"},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.publisher,"city",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"",selected:"",disabled:""}},[a._v("Pilih Kota")]),a._l(a.cities,(function(t,i){return e("option",{key:i,domProps:{value:t.id}},[a._v(a._s(t.name))])}))],2)])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"alamat"}},[a._v("Alamat Penerbit")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.publisher.address,expression:"publisher.address"}],staticClass:"form-control",attrs:{required:"",id:"alamat"},domProps:{value:a.publisher.address},on:{input:function(t){t.target.composing||a.$set(a.publisher,"address",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"noTelp"}},[a._v("No. Telepon Penerbit")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.phone,expression:"publisher.phone"}],staticClass:"form-control",attrs:{required:"",type:"number",id:"noTelp"},domProps:{value:a.publisher.phone},on:{input:function(t){t.target.composing||a.$set(a.publisher,"phone",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"email"}},[a._v("Email Penerbit")]),e("div",{staticClass:"input-group mb-2"},[a._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.email,expression:"publisher.email"}],staticClass:"form-control",attrs:{readonly:"",type:"email",id:"email",placeholder:"Masukan email penerbit"},domProps:{value:a.publisher.email},on:{input:function(t){t.target.composing||a.$set(a.publisher,"email",t.target.value)}}})])])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"alamatPusat"}},[a._v("Alamat Kantor Pusat")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.publisher.head_office,expression:"publisher.head_office"}],staticClass:"form-control",attrs:{required:"",id:"alamatPusat"},domProps:{value:a.publisher.head_office},on:{input:function(t){t.target.composing||a.$set(a.publisher,"head_office",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"nib"}},[a._v("NIB")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.nib,expression:"publisher.nib"}],staticClass:"form-control",attrs:{required:"",id:"nib",type:"text",placeholder:"Masukan nomor induk berusaha"},domProps:{value:a.publisher.nib},on:{input:function(t){t.target.composing||a.$set(a.publisher,"nib",t.target.value)}}})])])]),e("hr"),a._m(2),e("p",{staticClass:"mb-4"},[a._v("Silahkan isi data-data terkait direktur")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"direktur"}},[a._v("Nama Direktur")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.director_name,expression:"publisher.director_name"}],staticClass:"form-control",attrs:{required:"",id:"direktur",type:"text",placeholder:"Masukan nama direktur"},domProps:{value:a.publisher.director_name},on:{input:function(t){t.target.composing||a.$set(a.publisher,"director_name",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"noHpDirektur"}},[a._v("No. HP / Telepon Direktur")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.director_phone,expression:"publisher.director_phone"}],staticClass:"form-control",attrs:{required:"",id:"noHpDirektur",type:"number",placeholder:"Masukan nomor telepon"},domProps:{value:a.publisher.director_phone},on:{input:function(t){t.target.composing||a.$set(a.publisher,"director_phone",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"emailDirektur"}},[a._v("Email Direktur")]),e("div",{staticClass:"input-group mb-2"},[a._m(3),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.director_email,expression:"publisher.director_email"}],staticClass:"form-control",attrs:{required:"",type:"email",id:"emailDirektur",placeholder:"Masukan email direktur"},domProps:{value:a.publisher.director_email},on:{input:function(t){t.target.composing||a.$set(a.publisher,"director_email",t.target.value)}}})])])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"contactPerson1"}},[a._v("Nama Kontak Person ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.contact_person,expression:"publisher.contact_person"}],staticClass:"form-control",attrs:{required:"",id:"contactPerson1",type:"text",placeholder:"Masukan nama kontak person"},domProps:{value:a.publisher.contact_person},on:{input:function(t){t.target.composing||a.$set(a.publisher,"contact_person",t.target.value)}}})])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"form-label",attrs:{for:"contactPerson"}},[a._v("No Telp Kontak Person")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.contact_person_phone,expression:"publisher.contact_person_phone"}],staticClass:"form-control",attrs:{required:"",id:"contactPerson",type:"number",placeholder:"Masukan nomor telepon kontak person"},domProps:{value:a.publisher.contact_person_phone},on:{input:function(t){t.target.composing||a.$set(a.publisher,"contact_person_phone",t.target.value)}}})])])]),e("hr"),a._m(4),e("p",{staticClass:"mb-4"},[a._v("Silahkan isi data-data terkait berkas")]),a.$store.state.messageStatusErrorPublisher?e("div",{staticClass:"alert alert-danger",domProps:{innerHTML:a._s(a.$store.state.messageErrorPublisher)}},[a._m(5)]):a._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[a._m(6),a.validation.siup?e("small",{staticClass:"text-danger d-block"},[a._v(a._s(""==a.validation.message.siup?"Berkas harus diisi":a.validation.message.siup))]):a._e(),e("input",{staticClass:"form-control",attrs:{type:"file",id:"siup"},on:{change:a.selectFile}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.publisher.siup,expression:"publisher.siup"}],attrs:{type:"hidden"},domProps:{value:a.publisher.siup},on:{input:function(t){t.target.composing||a.$set(a.publisher,"siup",t.target.value)}}}),e("div",{staticClass:"my-1"},[a.$store.state.loadSiup?e("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button",disabled:""}},[a._v(" Uploaded "),e("i",{staticClass:"fas fa-check"})]):e("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button",id:"uploadSIUP"},on:{click:a.uploadData}},[a._v(" "+a._s(a.loading.siup?"sedang diproses..":"Upload")+" ")]),a._v("   "),e("small",[a._v(a._s(a.link.siup))])])])])]),a.$store.state.messageStatusPublisher?e("div",{staticClass:"alert alert-success"},[a._m(7),e("span",[a._v("Terimakasih! Data penerbit berhasil diperbaharui. Untuk tahap selanjutnya silahkan akses menu daftarkan buku atau izin cetak.")])]):a._e(),e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a._v(" "+a._s(a.$store.state.loadPage?"Sedang diproses..":"Submit")+" ")])])])])])},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("h6",{staticClass:"font-weight-bold mb-2"},[e("u",[a._v("Data Penerbit")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[a._v("@")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("h6",{staticClass:"font-weight-bold mb-2"},[e("u",[a._v("Data Direktur")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[a._v("@")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("h6",{staticClass:"font-weight-bold mb-2"},[e("u",[a._v("Data Berkas")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[a._v("×")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("label",{staticClass:"form-label",attrs:{for:"siup"}},[a._v("Salinan SIUP/NIB "),e("span",{staticClass:"text-muted"},[a._v("(PDF, ukuran maks 1mb)")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[a._v("×")])])}],r=e("5530"),n=(e("d3b7"),e("9911"),e("b0c0"),e("99af"),e("2f62")),l=e("bc3a"),o=e.n(l),u=e("4360"),p={data:function(){return{API_KEY:"a0a39455c89dadd653f4a0f4a1748df3aa5c92448396881214a47d90547494fa",API_PROVINCE:"https://api.binderbyte.com",provinces:[],cities:[],publisher:{name:"",address:"",province:"",phone:"",email:"",head_office:"",city:"",director_name:"",director_phone:"",director_email:"",contact_person:"",contact_person_phone:"",siup:"",nib:"",kta_ikapi:"",surat_pengajuan:"",surat_pernyataan:""},file:{siup:null,kta_ikapi:null,surat_pengajuan:null,surat_pernyataan:null},loading:{pengajuan:!1,pernyataan:!1,kta:!1,siup:!1},validation:{message:{pengajuan:"",pernyataan:"",siup:"",kta:""},pengajuan:!1,pernyataan:!1,siup:!1,kta:!1},link:{pengajuan:"",pernyataan:"",siup:"",kta:""}}},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["updatePublisherProfile","uploadFile"])),{},{selectFile:function(a){var t=a.target.files[0];"pengajuan"==a.target.id&&(this.file.surat_pengajuan=t),"pernyataan"==a.target.id&&(this.file.surat_pernyataan=t),"siup"==a.target.id&&(this.file.siup=t),"kta"==a.target.id&&(this.file.kta_ikapi=t)},uploadData:function(a){var t=this,e=null;"uploadPengajuan"==a.target.id&&(null!==this.file.surat_pengajuan?(this.loading.pengajuan=!0,e=this.file.surat_pengajuan):this.validation.pengajuan=!0),"uploadPernyataan"==a.target.id&&(null!==this.file.surat_pernyataan?(this.loading.pernyataan=!0,e=this.file.surat_pernyataan):this.validation.pernyataan=!0),"uploadSIUP"==a.target.id&&(null!==this.file.siup?(this.loading.siup=!0,e=this.file.siup):this.validation.siup=!0),"uploadKTA"==a.target.id&&(null!==this.file.kta_ikapi?(this.loading.kta=!0,e=this.file.kta_ikapi):this.validation.kta=!0),null!==e&&this.uploadFile(e).then((function(e){"uploadPengajuan"==a.target.id&&("success"==e.status?(t.publisher.surat_pengajuan=e.file,t.link.pengajuan=e.file,t.$store.state.loadPengajuan=!0,t.validation.pengajuan=!1):(t.validation.message.pengajuan=e.message,t.validation.pengajuan=!0)),"uploadPernyataan"==a.target.id&&("success"==e.status?(t.publisher.surat_pernyataan=e.file,t.link.pernyataan=e.file,t.$store.state.loadPernyataan=!0,t.validation.pernyataan=!1):(t.validation.message.pernyataan=e.message,t.validation.pernyataan=!0)),"uploadSIUP"==a.target.id&&("success"==e.status?(t.publisher.siup=e.file,t.link.siup=e.file,t.$store.state.loadSiup=!0,t.validation.siup=!1):(t.validation.message.siup=e.message,t.validation.siup=!0)),"uploadKTA"==a.target.id&&("success"==e.status?(t.publisher.kta_ikapi=e.file,t.link.kta=e.file,t.$store.state.loadKta=!0,t.validation.kta=!1):(t.validation.message.kta=e.message,t.validation.kta=!0))})).catch((function(e){403==e&&("uploadKTA"==a.target.id&&(t.validation.message.kta="Ukuran file terlalu besar",t.validation.kta=!0),"uploadPengajuan"==a.target.id&&(t.validation.message.pengajuan="Ukuran file terlalu besar",t.validation.pengajuan=!0),"uploadPernyataan"==a.target.id&&(t.validation.message.pernyataan="Ukuran file terlalu besar",t.validation.pernyataan=!0),"uploadSIUP"==a.target.id&&(t.validation.message.siup="Ukuran file terlalu besar",t.validation.siup=!0))})).finally((function(){t.loading.kta=!1,t.loading.siup=!1,t.loading.pengajuan=!1,t.loading.pernyataan=!1}))},updateProfile:function(){this.updatePublisherProfile(this.publisher),this.$store.state.loadPage=!1},setValue:function(a){this.publisher.name=a.name,this.publisher.province=a.province,this.publisher.city=a.city,this.publisher.address=a.address,this.publisher.phone=a.phone,this.publisher.nib=a.nib,this.publisher.head_office=a.head_office,this.publisher.director_name=a.director_name,this.publisher.director_phone=a.director_phone,this.publisher.director_email=a.director_email,this.publisher.contact_person=a.contact_person,this.publisher.contact_person_phone=a.contact_person_phone,this.publisher.surat_pengajuan=a.surat_perjanjian_penerbitan,this.publisher.surat_pernyataan=a.surat_perjanjian_hak_cipta,this.publisher.kta_ikapi=a.sertifikat_bnsp,this.publisher.siup=a.siup,this.link.pengajuan=a.surat_perjanjian_penerbitan,this.link.pernyataan=a.surat_perjanjian_hak_cipta,this.link.kta=a.sertifikat_bnsp,this.link.siup=a.siup},getCity:function(a){var t=this;o()({method:"get",url:this.API_PROVINCE+"/wilayah/kabupaten?api_key=".concat(this.API_KEY,"&id_provinsi=").concat(a.target.value)}).then((function(a){t.cities=a.data.value}))}}),created:function(){var a=JSON.parse(localStorage.getItem("user"));this.publisher.email=a.email},mounted:function(){var a=this,t=localStorage.getItem("token");o.a.get("".concat(u["a"],"api/user/getPublisherProfile"),{headers:{Authorization:t}}).then((function(t){a.setValue(t.data.result),o()({method:"get",url:a.API_PROVINCE+"/wilayah/kabupaten?api_key=".concat(a.API_KEY,"&id_provinsi=").concat(t.data.result.province)}).then((function(t){a.cities=t.data.value}))})),o()({method:"get",url:this.API_PROVINCE+"/wilayah/provinsi?api_key=".concat(this.API_KEY)}).then((function(t){a.provinces=t.data.value}))}},c=p,d=e("2877"),m=Object(d["a"])(c,i,s,!1,null,null,null);t["default"]=m.exports},"857a":function(a,t,e){var i=e("1d80"),s=e("577e"),r=/"/g;a.exports=function(a,t,e,n){var l=s(i(a)),o="<"+t;return""!==e&&(o+=" "+e+'="'+s(n).replace(r,"&quot;")+'"'),o+">"+l+"</"+t+">"}},9911:function(a,t,e){"use strict";var i=e("23e7"),s=e("857a"),r=e("af03");i({target:"String",proto:!0,forced:r("link")},{link:function(a){return s(this,"a","href",a)}})},af03:function(a,t,e){var i=e("d039");a.exports=function(a){return i((function(){var t=""[a]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-500119d0.3283a171.js.map