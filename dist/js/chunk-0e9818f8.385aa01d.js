(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e9818f8"],{"0bc7":function(t,e,a){t.exports=a.p+"img/loading-2.fe3e38fb.gif"},"7ae2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t.$store.state.loadPage?a("section",{staticClass:"mt-4",attrs:{id:"content"}},[t._m(1)]):a("section",{staticClass:"mt-4",attrs:{id:"content"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"card"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7"},[a("img",{staticClass:"w-100",attrs:{src:t.policy.cover,alt:""}})]),a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"p-3"},[a("div",{staticStyle:{color:"#1aae9f"}},[t._v(t._s(t.convertDateTitle))]),a("h3",{staticClass:"mt-3"},[t._v(t._s(t.policy.title))]),a("h4",{staticClass:"text-muted"},[t._v(t._s(t.policy.subtitle))]),a("div",{staticStyle:{"margin-top":"100px"}},[a("div",[t._v(t._s(t.policy.registered)+" orang telah mendaftar")]),a("div",[t._v(" "+t._s(t.policy.seats-t.policy.registered)+" sisa kursi tersedia ")]),"publish"==t.policy.status&&"pending"==t.userRegisteredStatus.status?a("button",{staticClass:"btn btn-block mt-3",staticStyle:{"background-color":"#1aae9f","border-radius":"5px!important",color:"white"},attrs:{disabled:""}},[t._v(" Menunggu Konfirmasi ")]):t._e(),"publish"==t.policy.status&&"approved"==t.userRegisteredStatus.status?a("button",{staticClass:"btn btn-block mt-3",staticStyle:{"background-color":"#1aae9f","border-radius":"5px!important",color:"white"},attrs:{"data-toggle":"modal","data-target":"#tiketModal"}},[t._v(" Lihat Tiket ")]):t._e(),"draft"==t.policy.status||""==t.policy.status?a("button",{staticClass:"btn btn-block mt-3",staticStyle:{"background-color":"#1aae9f","border-radius":"5px!important",color:"white"},attrs:{disabled:""}},[t._v(" Pendaftaran Ditutup ")]):t._e(),"publish"==t.policy.status&&"failed"==t.userRegisteredStatus.status?a("button",{staticClass:"btn btn-block mt-3",staticStyle:{"background-color":"#1aae9f","border-radius":"5px!important",color:"white"},attrs:{"data-toggle":"modal","data-target":"#exampleModal"}},[t._v(" Daftar Event ")]):t._e(),"publish"==t.policy.status&&void 0==t.userRegisteredStatus.status?a("button",{staticClass:"btn btn-block mt-3",staticStyle:{"background-color":"#1aae9f","border-radius":"5px!important",color:"white"},attrs:{"data-toggle":"modal","data-target":"#exampleModal"}},[t._v(" Daftar Event ")]):t._e()])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 pt-3"},[a("h5",[t._v("Tentang Event Ini")]),a("p",[t._v(" "+t._s(t.policy.description)+" ")])]),a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"mb-4"},[a("h5",[t._v("Tanggal dan Waktu")]),t.policy.start.substr(0,10)==t.policy.end.substr(0,10)?a("div",[t._v(" "+t._s(t.convertStartDate)+" ")]):a("div",[t._v(t._s(t.convertStartDate)+" - "+t._s(t.convertEndDate))]),a("span",[t._v("Pukul "+t._s(t.policy.start.substr(10))+" - Selesai")])]),a("div",{staticClass:"mb-4"},[a("h5",[t._v("Lokasi")]),a("div",[t._v(" "+t._s(null!=t.policy.location||""!=t.policy.location?t.policy.location:"Online (Daring)")+" ")]),""!=t.policy.location_address?a("div",[t._v(" "+t._s(t.policy.location_address)+" ")]):t._e(),a("div",[t._v(t._s(t.policy.maps_url))])]),""!=t.policy.requirement&&null!=t.policy.requirement?a("div",{staticClass:"mb-4"},[a("h5",[t._v("Persyaratan Peserta")]),a("p",{domProps:{innerHTML:t._s(t.policy.requirement)}})]):t._e()])])]),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-center",attrs:{id:"exampleModalLabel"}},[t._v(" Konfirmasi Pendaftaran ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.$store.state.messageRegisterSuccess=""}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t.successRegistered?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"alert alert-success"},[t._v(" Selamat, pendaftaran berhasil. Selanjutnya silahkan untuk menunggu konfirmasi dari admin. Status pendaftaran dapat dilihat pada halaman ini ")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.postRegisterTraining()}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"mb-3"},[a("span",{staticClass:"font-weight-bold"},[t._v("Judul Event :")]),t._v(" "),a("br"),a("span",[t._v(t._s(t.policy.title))])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"namaPeserta"}},[t._v("Nama Peserta")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.name,expression:"register.name"}],staticClass:"form-control",attrs:{type:"text",id:"namaPeserta",required:""},domProps:{value:t.register.name},on:{input:function(e){e.target.composing||t.$set(t.register,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"email"}},[t._v("Alamat Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone"}},[t._v("Nomor Whatsapp")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.phone,expression:"register.phone"}],staticClass:"form-control",attrs:{type:"number",id:"phone",required:""},domProps:{value:t.register.phone},on:{input:function(e){e.target.composing||t.$set(t.register,"phone",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"address"}},[t._v("Alamat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.address,expression:"register.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",required:""},domProps:{value:t.register.address},on:{input:function(e){e.target.composing||t.$set(t.register,"address",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"portfolio"}},[t._v("Portfolio *Tidak Wajib")]),""!=t.message.error?a("small",{staticClass:"text-danger d-block"},[t._v(t._s(t.message.error))]):t._e(),a("input",{staticClass:"form-control",attrs:{type:"file",id:"portfolio"},on:{change:t.selectImage}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.studentMeta,expression:"register.studentMeta"}],attrs:{type:"hidden"},domProps:{value:t.register.studentMeta},on:{input:function(e){e.target.composing||t.$set(t.register,"studentMeta",e.target.value)}}}),a("div",{staticClass:"my-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[t.$store.state.loadUploadFile||t.message.uploaded?t._e():a("button",{staticClass:"btn btn-sm btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.uploadingImage()}}},[t._v(" Upload ")]),t.message.uploaded?a("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"}},[t._v(" Uploaded ")]):t._e(),t.$store.state.loadUploadFile&&!t.message.uploaded?a("button",{staticClass:"btn btn-sm btn-primary btn-block",attrs:{type:"button"}},[a("span",{staticClass:"spinner-border spinner-border-sm"}),t._v(" Sedang upload.. ")]):t._e()])])])])]),a("div",{staticClass:"modal-footer"},[t.$store.state.loadProcess?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(" Sedang diproses.. ")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" Daftar ")])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"tiketModal",tabindex:"-1",role:"dialog","aria-labelledby":"tiketModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-center",attrs:{id:"tiketModalLabel"}},[t._v(" Tiket ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.$store.state.messageRegisterSuccess=""}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("p",[t._v("Berikut ini informasi tiket anda :")]),a("table",{staticClass:"table table-bordered"},[a("tr",[a("td",{attrs:{width:"160"}},[t._v("Nama")]),a("td",{attrs:{width:"20"}},[t._v(":")]),a("td",[t._v(t._s(t.userRegisteredStatus.name))])]),a("tr",[a("td",[t._v("Nomor Tiket")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.userRegisteredStatus.ticketcode))])]),a("tr",[a("td",[t._v("Tanggal Daftar")]),a("td",[t._v(":")]),a("td",[t._v(t._s(t.registeredDate))])]),a("tr",[a("td",[t._v("Kode QR")]),a("td",[t._v(":")]),a("td",[a("img",{attrs:{src:t.qrCode,alt:""}})])])])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"top-bar"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t._v("Detil Informasi Pembinaan")]),a("div",{staticClass:"col"},[a("div",{staticClass:"text-right bread"},[a("i",{staticClass:"fas fa-home"}),t._v(" Beranda > Pembinaan > Detil ")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"loading text-center"},[s("img",{staticClass:"img-fluid",attrs:{src:a("0bc7"),alt:""}})])])}],r=a("5530"),o=(a("b0c0"),a("2f62")),l=a("c1df"),n=a.n(l),d=a("bc3a"),c=a.n(d),u=a("4360");n.a.locale("id");var m={data:function(){return{register:{training_id:"",user_id:"",name:"",email:"",phone:"",address:"",session:"online",studentMeta:""},portfolio:null,message:{error:"",uploaded:!1},userRegisteredStatus:[],successRegistered:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(o["c"])(["policy"])),{},{convertDateTitle:function(){return n()(this.policy.start).format("LL")},convertStartDate:function(){return n()(this.policy.start).format("LL")},convertEndDate:function(){return n()(this.policy.end).format("LL")},registeredDate:function(){return n()(this.userRegisteredStatus.created_at).format("LL")},qrCode:function(){var t="https://api.buku.kemdikbud.go.id/api/training/ticket/".concat(this.userRegisteredStatus.ticketcode);return"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=".concat(t)}}),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["fetchDetailTraining","uploadImage","registerTraining","fetchRegisterTraining"])),{},{selectImage:function(t){var e=t.target.files[0];this.portfolio=e},uploadingImage:function(){var t=this;null==this.portfolio?this.message.error="File portfolio harus diisi":(this.message.error="",this.uploadImage(this.portfolio).then((function(e){t.message.uploaded=!0,t.register.studentMeta=e.data.url})))},postRegisterTraining:function(){var t=this;this.registerTraining(this.register).then((function(e){console.log(e),"success"==e.data.status?(t.successRegistered=!0,t.userRegisteredStatus="pending"):t.successRegistered=!1}))},setValue:function(t){this.register.user_id=t.user_id,this.register.name=t.name,this.register.email=t.email,this.register.phone=t.phone,this.register.address=t.address}}),created:function(){var t=this,e=localStorage.getItem("token");if(e){c.a.get("".concat(u["a"],"api/user/getPublisherProfile"),{headers:{Authorization:e}}).then((function(e){t.setValue(e.data.result)}));var a=JSON.parse(localStorage.getItem("user")),s={user_id:a.user_id,training_id:this.$route.query.id};this.fetchRegisterTraining(s).then((function(e){t.userRegisteredStatus=e.data}))}this.fetchDetailTraining(this.$route.query.id),this.register.training_id=this.$route.query.id}},p=m,g=a("2877"),v=Object(g["a"])(p,s,i,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-0e9818f8.385aa01d.js.map